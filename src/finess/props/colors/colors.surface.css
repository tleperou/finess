@import './../media/media.prefers.css';
@import './utils.css';

:root {
  /* public property */
  --color-surface: #121210;
  --color-surface-mix: white;

  /* default dark */
  --color-surface-mode: in oklch shorter hue;
  --color-surface-contrast: 30;
  --color-surface-contrast-calc: calc(var(--color-surface-contrast) / 100 * 1%);

  @supports (color: Canvas) {
    --color-surface: Canvas;
  }

  @supports (color: CanvasText) {
    --color-surface-mix: CanvasText;
  }

  /* light */
  @media (--light) {
    --color-surface: #f4f4f4;
    --color-surface-mix: #121210;
  }
}

:root {
  --color-surface-start: color-mix(
    in oklab,
    var(--color-surface),
    1% var(--color-surface-mix)
  );
  --color-surface-end: color-mix(
    in oklab,
    10% var(--color-surface),
    var(--color-surface-mix)
  );

  @media (--contrast) {
    --color-surface-contrast: 40;
  }

  @media (--contrast-reduced) {
    --color-surface-contrast: 7;
  }
}

/* colors */

:root {
  --color-surface-0: var(--color-surface-start);

  --color-surface-1: color-mix(
    var(--color-surface-mode),
    var(--color-surface-start),
    calc(var(--color-surface-contrast-calc)) var(--color-surface-end)
  );

  --color-surface-2: color-mix(
    var(--color-surface-mode),
    var(--color-surface-1),
    calc(20 * var(--color-surface-contrast-calc)) var(--color-surface-end)
  );

  --color-surface-3: color-mix(
    var(--color-surface-mode),
    var(--color-surface-1),
    calc(40 * var(--color-surface-contrast-calc)) var(--color-surface-end)
  );

  --color-surface-4: color-mix(
    var(--color-surface-mode),
    var(--color-surface-1),
    calc(60 * var(--color-surface-contrast-calc)) var(--color-surface-end)
  );

  --color-surface-5: color-mix(
    var(--color-surface-mode),
    var(--color-surface-1),
    calc(100 * var(--color-surface-contrast-calc)) var(--color-surface-end)
  );
}

/* color on */

:root {
  --color-on-surface-1: color-mix(
    var(--color-surface-mode),
    calc(var(--color-surface-contrast) * 1% + 70%) var(--color-surface-end),
    transparent
  );

  --color-on-surface-2: color-mix(
    var(--color-surface-mode),
    calc(var(--color-surface-contrast) * 1% + 30%) var(--color-on-surface-1),
    transparent
  );
}
